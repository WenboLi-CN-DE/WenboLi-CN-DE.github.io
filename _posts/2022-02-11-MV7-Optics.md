---
layout: post
title: æœºå™¨è§†è§‰-ç›¸æœºå…‰å­¦ ï¼¯ptics
tag: [ä¸“ä¸š, æœºå™¨è§†è§‰]
---
<head>
    <script type="text/javascript" async
      src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
   </script>
</head>
# é’ˆå­”ç…§ç›¸æœº

![](https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220311204148.png)

ç‚¹$$(x,y,z)$$æŠ•å½±åˆ°$$(x',y')$$æˆªè·å®šç†ï¼š

$$\frac{x}{z}=\frac{x^{\prime}}{f}, \quad \frac{y}{z}=\frac{y^{\prime}}{f} \quad \Rightarrow \quad z \cdot\left(\begin{array}{l}x^{\prime} \\ y^{\prime}\end{array}\right)=\left(\begin{array}{ll}f & 0 \\ 0 & f\end{array}\right) \cdot\left(\begin{array}{l}x \\ y\end{array}\right)$$

# ä¸–ç•Œåˆ°å›¾åƒæ˜ å°„

ç›¸æœºåæ ‡ç³» 

å›¾åƒåæ ‡ç³» 

- u æ–¹å‘å¹³è¡Œäº x' æ–¹å‘
- v æ–¹å‘å¯èƒ½å€¾æ–œ Î¸=u å’Œ v æ–¹å‘ä¹‹é—´çš„è§’åº¦ 
- ä¸»ç‚¹ = å›¾åƒåæ ‡ä¸­ç›¸æœºåæ ‡ç³»çš„åŸç‚¹ (u0,v0) 
- å•ä½å‘é‡ u å’Œ v çš„é•¿åº¦ä¸å•ä½å‘é‡ x'ã€y' çš„é•¿åº¦ä¸åŒ æ¯”ä¾‹å› å­ Î±ã€Î²

![](https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220311204556.png)

å°†ç‚¹ Z ä»ç›¸æœºåæ ‡æ˜ å°„åˆ°å›¾åƒåæ ‡ï¼š

ä¸‰è§’å½¢ ZBCï¼š

$$\begin{aligned} \sin \theta &=\frac{\beta y^{\prime}}{v-v_{0}} \\ \Rightarrow v &=\frac{\beta}{\sin \theta} y^{\prime}+v_{0} \\ \cot \theta &=\frac{\alpha x^{\prime}+u_{0}-u}{\beta y^{\prime}} \\ \Rightarrow u &=\alpha x^{\prime}-(\cot \theta) \cdot \beta y^{\prime}+u_{0} \end{aligned}$$

==ä»ç›¸æœºåˆ°å›¾åƒå¸§çš„æ˜ å°„ï¼š==

![](https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312211920.png)
$$
\left(\begin{array}{l}
u \\
v
\end{array}\right)=\left(\begin{array}{cc}
\alpha & -\beta \cot \theta \\
0 & \frac{\beta}{\sin \theta}
\end{array}\right) \cdot\left(\begin{array}{l}
x^{\prime} \\
y^{\prime}
\end{array}\right)+\left(\begin{array}{l}
u_{0} \\
v_{0}
\end{array}\right)
$$
![](https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220311204822.png)

ç‰©ä½“åœ¨ç›¸æœºåæ ‡ä¸Šçš„ä½ç½®é€šå¸¸æœªçŸ¥

å¤–éƒ¨åæ ‡ç³»ï¼ˆâ€œä¸–ç•Œæ¡†æ¶â€ï¼‰ï¼ˆÎ¾ï¼ŒÎ·ï¼ŒÎ¶ï¼‰

æ˜ å°„ï¼š
$$
\left(\begin{array}{l}
x \\
y \\
z
\end{array}\right)=R \cdot\left(\begin{array}{l}
\xi \\
\eta \\
\zeta
\end{array}\right)+\vec{t}
$$
Ræ˜¯æ—‹è½¬çŸ©é˜µï¼Œtæ˜¯è½¬ç§»çŸ©é˜µ

1. åæ ‡å˜æ¢

   ä¸–ç•Œæ¡†æ¶â†’ç›¸æœºæ¡†æ¶

$$
\left(\begin{array}{l}
x \\
y \\
z
\end{array}\right)=R \cdot\left(\begin{array}{l}
\xi \\
\eta \\
\zeta
\end{array}\right)+\vec{t}
$$

![](https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220311205018.png)

2. é€è§†æŠ•å½±ï¼›ä¸­å¿ƒæŠ•å½±æ³•

$$
z \cdot\left(\begin{array}{l}
x^{\prime} \\
y^{\prime}
\end{array}\right)=\left(\begin{array}{ll}
f & 0 \\
0 & f
\end{array}\right) \cdot\left(\begin{array}{l}
x \\
y
\end{array}\right)
$$

![](https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220311205103.png)





3. åæ ‡å˜æ¢

â€‹		ç›¸æœºå¸§â†’å›¾åƒå¸§
$$
\left(\begin{array}{l}
u \\
v
\end{array}\right)=\left(\begin{array}{cc}
\alpha & -\beta \cot \theta \\
0 & \frac{\beta}{\sin \theta}
\end{array}\right) \cdot\left(\begin{array}{l}
x^{\prime} \\
y^{\prime}
\end{array}\right)+\left(\begin{array}{l}
u_{0} \\
v_{0}
\end{array}\right)
$$
$$cot\theta=cos\theta/sin\theta$$

![](https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220311205201.png)

é‡å†™æ­¥éª¤3ï¼š
$$
\left(\begin{array}{l}
u \\
v \\
1
\end{array}\right)=\left(\begin{array}{ccc}
\alpha & -\beta \cot \theta & u_{0} \\
0 & \frac{\beta}{\sin \theta} & v_{0} \\
0 & 0 & 1
\end{array}\right) \cdot\left(\begin{array}{l}
x^{\prime} \\
y^{\prime} \\
1
\end{array}\right)
$$
é‡å†™æ­¥éª¤2ï¼š
$$
z \cdot\left(\begin{array}{l}
x^{\prime} \\
y^{\prime} \\
1
\end{array}\right)=\left(\begin{array}{lll}
f & 0 & 0 \\
0 & f & 0 \\
0 & 0 & 1
\end{array}\right) \cdot\left(\begin{array}{l}
x \\
y \\
z
\end{array}\right)
$$
ç»“åˆç¬¬ 2 æ­¥å’Œç¬¬ 3 æ­¥ï¼š
$$
\begin{aligned}
z \cdot\left(\begin{array}{l}
u \\
v \\
1
\end{array}\right) &=\left(\begin{array}{ccc}
\alpha & -\beta \cot \theta & u_{0} \\
0 & \frac{\beta}{\sin \theta} & v_{0} \\
0 & 0 & 1
\end{array}\right) \cdot\left(\begin{array}{lll}
f & 0 & 0 \\
0 & f & 0 \\
0 & 0 & 1
\end{array}\right) \cdot\left(\begin{array}{l}
x \\
y \\
z
\end{array}\right) \\
&=\left(\begin{array}{ccc}
f \alpha & -f \beta \cot \theta & u_{0} \\
0 & \frac{f \beta}{\sin \theta} & v_{0} \\
0 & 0 & 1
\end{array}\right) \cdot\left(\begin{array}{l}
x \\
y \\
z
\end{array}\right) \\
&=\underbrace{\left(\begin{array}{ccc}
\alpha^{\prime} & -\beta^{\prime} \cot \theta & u_{0} \\
0 & \frac{\beta^{\prime}}{\sin \theta} & v_{0} \\
0 & 0 & 1
\end{array}\right)}_{=: A} \cdot\left(\begin{array}{l}
x \\
y \\
z
\end{array}\right)
\end{aligned}
$$
with  
$$
\alpha^{\prime}=f \alpha, \quad \beta^{\prime}=f \beta
$$
é‡å†™æ­¥éª¤1ï¼š
$$
\left(\begin{array}{l}
x \\
y \\
z
\end{array}\right)=(R \mid \vec{t}) \cdot\left(\begin{array}{l}
\xi \\
\eta \\
\zeta \\
1
\end{array}\right)
$$
 å°† 1 ä¸ä¹‹å‰çš„ç»“æœç›¸ç»“åˆï¼š

$$z \cdot\left(\begin{array}{l}
u \\
v \\
1
\end{array}\right)=A \cdot(R \mid \vec{t}) \cdot\left(\begin{array}{l}
\xi \\
\eta \\
\zeta \\
1
\end{array}\right)z \cdot\left(\begin{array}{l}
u \\
v \\
1
\end{array}\right)=A \cdot(R \mid \vec{t}) \cdot\left(\begin{array}{l}
\xi \\
\eta \\
\zeta \\
1
\end{array}\right)$$

ç»™å®š (Î¾,Î·,Î¶)ï¼Œæˆ‘ä»¬å¦‚ä½•è®¡ç®— (u,v) ï¼Ÿ

$$\begin{array}{l}
\left(\begin{array}{c}
\tilde{x} \\
\tilde{y} \\
\tilde{z}
\end{array}\right)=A \cdot(R \mid \vec{t}) \cdot\left(\begin{array}{l}
\xi \\
\eta \\
\zeta \\
1
\end{array}\right) \\
\left(\begin{array}{l}
u \\
v
\end{array}\right)=\frac{1}{\widetilde{z}}\left(\begin{array}{l}
\tilde{x} \\
\tilde{y}
\end{array}\right)
\end{array}$$

ç»™å®š (u,v)ï¼Œæˆ‘ä»¬å¦‚ä½•è®¡ç®— (Î¾,Î·,Î¶) ï¼Ÿ

$$\left(\begin{array}{l}
\xi \\
\eta \\
\zeta
\end{array}\right)=z R^{T} A^{-1}\left(\begin{array}{l}
u \\
v \\
1
\end{array}\right)-R^{T} \vec{t} \quad \text { with } z \geq 0$$

(Î¾,Î·,Î¶) ä¸æ˜¯å”¯ä¸€çš„ï¼Œè€Œæ˜¯å°„çº¿çš„å…ƒç´ 

ç›¸æœºåŸç‚¹åæ ‡ï¼š

$$(\xi, \eta, \zeta)^{T}=-R^{T} \vec{t}$$

å‚æ•°ï¼š 

- å†…åœ¨å‚æ•°ï¼šæè¿°ç›¸æœºï¼ˆ5ä¸ªå‚æ•°ï¼‰

  $$u_{0}, v_{0}, \alpha^{\prime}, \beta^{\prime}, \theta$$

- å¤–éƒ¨å‚æ•°ï¼šç›¸æœºçš„ä½å§¿ï¼ˆ6ä¸ªå‚æ•°ï¼‰

  $$R,\vec{t}$$

- æœ‰æ—¶ï¼Œæ¨¡å‹è¢«ç®€åŒ–å‡è®¾


$$\theta=90^{\circ}, \alpha^{\prime}=\beta^{\prime}$$

# ä½“ç§¯æµ‹é‡

æµ‹é‡ä½“ç§¯ï¼š 

â€“ æ˜¯ä¸€ä¸ªçŸ©å½¢é‡‘å­—å¡” 

â€“ ç„¦ç‚¹æ˜¯é‡‘å­—å¡”çš„é¡¶ç‚¹ 

â€“ æ°´å¹³å­”å¾„è§’ï¼ˆå¼ è§’ï¼‰

$$\arccos \frac{\left\langle A^{-1}\left(0, v_{0}, 1\right)^{T}, A^{-1}\left(u_{\max }, v_{0}, 1\right)^{T}\right\rangle}{\left\|A^{-1}\left(0, v_{0}, 1\right)^{T}\right\| \cdot\left\|A^{-1}\left(u_{\max }, v_{0}, 1\right)^{T}\right\|}$$

â€“ å‚ç›´å­”å¾„è§’

$$arccos \frac{\left\langle A^{-1}\left(u_{0}, 0,1\right)^{T}, A^{-1}\left(u_{0}, v_{\max }, 1\right)^{T}\right\rangle}{\left\|A^{-1}\left(u_{0}, 0,1\right)^{T}\right\| \cdot\left\|A^{-1}\left(u_{0}, v_{\max }, 1\right)^{T}\right\|}$$



<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312163116.png" style="zoom: 67%;" />

## é€è§†æŠ•å½±ï¼›ä¸­å¿ƒæŠ•å½±æ³•

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312163742.png" style="zoom: 67%;" />

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312163805.png" style="zoom: 38.5%;" />

![](https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312163832.png)

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312164207.png" style="zoom:67%;" />

![](https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312164237.png)

é€è§†æŠ•å½±ä¸ï¼š 

â€“ ä¿ç•™è§’åº¦ 

â€“ ä¿ç•™é•¿åº¦ 

â€“ ä¿ç•™é¢ç§¯ 

â€“ ä¿ç•™é•¿åº¦æ¯” 

â€“ å°†åœ†/æ¤­åœ†çš„ä¸­å¿ƒæ˜ å°„åˆ°æ‰€æ˜ å°„çš„æ¤­åœ†çš„ä¸­å¿ƒï¼ˆé™¤éï¼šå¦‚æœå¹³é¢ä¸å…‰è½´æ­£äº¤ï¼‰

![](https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312164333.png)

# é•œå¤´

é’ˆå­”ç›¸æœºå¾ˆéš¾è®©å…‰çº¿é€šè¿‡ 

â†’ é•œå¤´ â€¢ æ–¯æ¶…å°”æŠ˜å°„å®šå¾‹

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312164413.png" style="zoom: 33%;" />

ğŸ“Œ**Snellâ€™s law:**  ğŸ“Œ

$$n_{e} \sin \theta_{e}=n_{t} \sin \theta_{t}$$

$$n_{\text {medium }}=\frac{v_{\text {vacuum }}}{v_{\text {medium }}}$$

é•œå¤´ç„¦è·ï¼šé•œå¤´åˆ°ç„¦ç‚¹çš„è·ç¦»ï¼Œå¹³è¡Œäºå…‰è½´çš„å…‰çº¿è¢«æŠ˜å°„åçš„äº¤æ±‡ç‚¹

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312164804.png" style="zoom:50%;" />

é•œç‰‡çš„æŠ˜å°„ 

â€“ è¡¨é¢ç©ºæ°”/ç»ç’ƒ 

â€“ è¡¨é¢ç»ç’ƒ/ç©ºæ°”

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312164839.png" style="zoom:50%;" />



- å¯å¿½ç•¥çš„åšåº¦ 
- åŒæŠ˜å°„å¯ä»¥é€šè¿‡ä¸­å¿ƒçº¿çš„å•æŠ˜å°„æ¥è¿‘ä¼¼ 
- æ›´ç®€å•çš„å‡ ä½•å»ºæ¨¡

<img src="C:\Users\Wenbo Li\AppData\Roaming\Typora\typora-user-images\image-20220312164906393.png" alt="image-20220312164906393" style="zoom:50%;" />

## è–„é•œç‰‡ 

**æ¸…æ™°çš„å›¾åƒå¿…é¡»æ»¡è¶³ä»€ä¹ˆæ¡ä»¶ï¼Ÿ**

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312165020.png" style="zoom:50%;" />

æˆªè·å®šç†ï¼š

$$\frac{x^{\prime}}{x}=\frac{f_{\text {camera }}}{z}$$

$$\frac{x^{\prime}}{x}=\frac{f_{\text {camera }}-f_{\text {lens }}}{f_{\text {lens }}}$$

ç”±ä¸Šå¯å¾— ğŸ‘‰

$$\frac{1}{f_{\text {lens }}}=\frac{1}{f_{\text {camera }}}+\frac{1}{z}$$

ï¼ˆé€é•œæ–¹ç¨‹ï¼‰

**å½“è¿åé€é•œæ–¹ç¨‹æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ**

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312165242.png" style="zoom: 50%;" />

æˆ‘ä»¬å¯ä»¥æ”¹å˜zå¤šå°‘ç¨‹åº¦æ‰å½±å“ä¸å¤§ï¼Ÿ

## Depth of Field  æ™¯æ·±ï¼›è§†é‡æ·±åº¦

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312165422.png" style="zoom:67%;" />

æˆªè·å®šç†ï¼š

$$\frac{\epsilon}{D}=\frac{f_{0}-f_{f a r}}{f_{f a r}}=\cdots=\frac{f_{\text {lens }} \cdot\left(z_{\text {far }}-z_{0}\right)}{z_{\text {far }} \cdot\left(z_{0}-f_{\text {lens }}\right)}$$

æˆªè·å®šç†ï¼š

$$\frac{\epsilon}{D}=\frac{f_{\text {near }}-f_{0}}{f_{\text {near }}}=\cdots=\frac{f_{\text {lens }} \cdot\left(z_{0}-z_{\text {near }}\right)}{z_{\text {near }} \cdot\left(z_{0}-f_{\text {lens }}\right)}$$

ç”±ä¸Šå¯å¾—ï¼š

$$z_{f a r}=\frac{z_{0} \cdot d_{h}}{d_{h}-\left(z_{0}-f_{l e n s}\right)}$$

$$z_{\text {near }}=\frac{z_{0} \cdot d_{h}}{d_{h}+\left(z_{0}-f_{\text {lens }}\right)}$$

$$d_{h}=\frac{D \cdot f_{\text {lens }}}{\epsilon}$$(hyperfocal distance)  ï¼ˆè¶…ç„¦è·ï¼‰

$$\Delta z=z_{\text {far }}-z_{\text {near }}=2 \frac{z_{0} \cdot d_{h} \cdot\left(z_{0}-f_{\text {lens }}\right)}{d_{h}^{2}-\left(z_{0}-f_{\text {lens }}\right)^{2}}$$

è§‚å¯Ÿ:  

å¯¹äº

$$z_{0} \rightarrow d_{h}+f_{\text {lens }}$$

holdsï¼š

$$z_{\text {far }} \rightarrow \infty$$

$$\Delta z \rightarrow \infty$$

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312170009.png" style="zoom:67%;" />

## å¯¹ç„¦

å¯¹ç„¦åŒ…å›´/å¯¹ç„¦å †å å›¾åƒç³»åˆ—å…·æœ‰ä¸åŒçš„é•œå¤´å’Œå›¾åƒå¹³é¢ä¹‹é—´çš„è·ç¦»ï¼Œä»¥å…‹æœæœ‰é™çš„æ™¯æ·±

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312170237.png" style="zoom:67%;" />

## åƒå·® Lens Aberrations  

 

- å‡ ä½•åƒå·®ï¼šç”±äºé•œå¤´å‡ ä½•å½¢çŠ¶ä¸å®Œå–„ï¼Œæ²¡æœ‰å”¯ä¸€ç„¦ç‚¹ 

  â€“ çƒé¢åƒå·®ã€æ•£å…‰ã€å½—å·® 

  geometric aberrations: no unique focal point due to imperfect lens geometry
  â€“ spherical aberration, astigmatism, coma  

-  è‰²å·®ï¼šå› ä¸åŒæ³¢é•¿çš„ä¸åŒæŠ˜å°„ç‡å¼•èµ·çš„è‰²æ•£ï¼ˆâ€œå½©è™¹æ•ˆåº”â€ï¼‰ 

  chromatic aberrations:
  dispersion caused by different refraction index for different wavelength (â€œrainbow effectâ€)  

-  æ¸æ™•ï¼šå›¾åƒå‘¨è¾¹çš„å…‰å¼ºåº¦å’Œé¥±å’Œåº¦é™ä½ 

  vignetting:
  reduced light intensity and saturation in the image periphery  

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312170349.png" style="zoom:67%;" />

![](https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312170407.png)

## å›¾è±¡å¤±çœŸ

å›¾åƒå¤±çœŸï¼šé€è§†æŠ•å½±åº”å°†çº¿æ˜ å°„åˆ°çº¿ã€‚

ä½†å¤§å¤šæ•°ç›¸æœºä¸ä¼š â†’ ç•¸å˜ 

â€“ å¾„å‘ç•¸å˜ é•œå¤´å½¢çŠ¶æ¬ ä½³ 

â€“ åˆ‡å‘ç•¸å˜ é•œå¤´å®‰è£…æ¬ ä½³

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312170604.png" style="zoom:67%;" />

### å¾„å‘ç•¸å˜

- ç‚¹åç¦»ä¸»ç‚¹ 
- å¾„å‘ç•¸å˜æ˜¯å¯¹ç§°çš„ 
- åç§»é‡ä¸åˆ°ä¸»ç‚¹çš„è·ç¦»å‘ˆéçº¿æ€§å…³ç³» 

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312170728.png" style="zoom:67%;" />

- çŸ©å½¢å¯¹è±¡åœ¨å›¾åƒä¸­å‘ˆæ¡¶å½¢æˆ–æ•å½¢

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312170704.png" style="zoom:67%;" />

å¶æ•°å¤šé¡¹å¼çš„æ•°å­¦å»ºæ¨¡ï¼š

$$\left(\begin{array}{l}x^{\prime} \\ y^{\prime}\end{array}\right)=\left(1+k_{1} r^{2}+k_{2} r^{4}\right)\left(\begin{array}{l}x_{d} \\ y_{d}\end{array}\right) \quad \text{ with } r^{2}=x_{d}^{2}+y_{d}^{2}$$

æˆ–åœ¨å›¾åƒåæ ‡ä¸­ï¼š

$$\left(\begin{array}{l}u^{\prime} \\ v^{\prime}\end{array}\right)=\left(\begin{array}{l}u_{0} \\ v_{0}\end{array}\right)+\left(1+k_{1} r^{2}+k_{2} r^{4}\right)\left(\begin{array}{l}u_{d}-u_{0} \\ v_{d}-v_{0}\end{array}\right) \text{with } r^{2}=\left(u_{d}-u_{0}\right)^{2}+\left(v_{d}-v_{0}\right)^{2}$$

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312171211.png" style="zoom:67%;" />

$$k_1 = 0, k_2=0$$

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312171407.png" style="zoom:67%;" />

$$k_1>0ï¼Œk_2â‰¥0$$

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312171536.png" style="zoom:67%;" />

$$k_1<0ï¼Œk_2â‰¤0$$

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312171627.png" style="zoom:67%;" />

$$k_1<0ï¼Œk_2ï¼0$$

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312171659.png" style="zoom:67%;" />

$$k_1>0ï¼Œk_2<0$$ 

# ç›¸æœºæ ‡å®š Camera Calibration  

å¸¸ç”¨æœ¯è¯­
å†…å‚çŸ©é˜µ: Intrinsic Matrix
ç„¦è·: Focal Length
ä¸»ç‚¹: Principal Point
å¾„å‘ç•¸å˜: Radial Distortion
åˆ‡å‘ç•¸å˜: Tangential Distortion
æ—‹è½¬çŸ©é˜µ: Rotation Matrices
å¹³ç§»å‘é‡: Translation Vectors
å¹³å‡é‡æŠ•å½±è¯¯å·®: Mean Reprojection Error
é‡æŠ•å½±è¯¯å·®: Reprojection Errors
é‡æŠ•å½±ç‚¹: Reprojected Points
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€ŒAIäººå·¥æ™ºèƒ½ç§‘å­¦ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚
åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/lql0716/article/details/71973318

**å»ºç«‹ç›¸æœºæˆåƒå‡ ä½•æ¨¡å‹å¹¶çŸ«æ­£é€é•œç•¸å˜**ã€‚

å‚æ•°ï¼š 

- å†…åœ¨å‚æ•°ï¼šæè¿°ç›¸æœºï¼ˆ5ä¸ªå‚æ•°ï¼‰

  $$u_{0}, v_{0}, \alpha^{\prime}, \beta^{\prime}, \theta$$

- å¤–éƒ¨å‚æ•°ï¼šç›¸æœºçš„ä½å§¿ï¼ˆ2ä¸ªå‚æ•°ï¼‰

  $$R,\vec{t}$$

  å¤±çœŸå‚æ•°ï¼š

  $$k_1,k_2$$

æ ¡å‡† = ç¡®å®šå‚æ•°çš„è¿‡ç¨‹

æ ¡å‡†ï¼šä»æˆå¯¹çš„å›¾åƒç‚¹å’Œä¸–ç•Œç‚¹ç¡®å®šç›¸æœºå‚æ•°

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312171947.png" style="zoom:67%;" />

ä»ä¸€å¼ æˆ–å‡ å¼ å›¾ç‰‡æˆ‘ä»¬å¾—åˆ°å¯¹åº”çš„ç‚¹ï¼š

$$\left(\xi_{i}, \eta_{i}, \zeta_{i}\right) \mapsto\left(u_{i}, v_{i}\right)$$

æ‰¾åˆ°æ˜ å°„
$$\left(\xi_{i}, \eta_{i}, \zeta_{i}\right)$$
åˆ°å°½å¯èƒ½å¥½çš„ç›¸æœºå‚æ•°
$$A,R,\vec{t}$$ åœ¨ $$\left(u_{i}, v_{i}\right)$$

å‡ ç§æ–¹æ³•ã€‚ è¿™é‡Œï¼š 1. Tasiçš„æ–¹æ³• 2. å¼ æ°æ–¹æ³•

ä¸–ç•Œåˆ°å›¾åƒæ˜ å°„ï¼š

$$z \cdot\left(\begin{array}{l}u \\ v \\ 1\end{array}\right)=\underbrace{A \cdot(R \mid \vec{t})}_{=: M} \cdot\left(\begin{array}{l}\xi \\ \eta \\ \zeta \\ 1\end{array}\right)$$

M æ˜¯ 3x4 çŸ©é˜µ

$$M=\left(\begin{array}{ccc}m_{1,1} & \ldots & m_{1,4} \\ \vdots & \ddots & \vdots \\ m_{3,1} & \ldots & m_{3,4}\end{array}\right)$$

æˆ‘ä»¬å¾—åˆ°ï¼š

$$\vec{m}_{1,1: 3}\left(\begin{array}{l}\xi \\ \eta \\ \zeta\end{array}\right)+m_{1,4}-u\left(\vec{m}_{3,1: 3}\left(\begin{array}{l}\xi \\ \eta \\ \zeta\end{array}\right)+m_{3,4}\right)=0$$

$$\vec{m}_{2,1: 3}\left(\begin{array}{l}\xi \\ \eta \\ \zeta\end{array}\right)+m_{2,4}-v\left(\vec{m}_{3,1: 3}\left(\begin{array}{l}\xi \\ \eta \\ \zeta\end{array}\right)+m_{3,4}\right)=0$$

é€šè¿‡æœ€å°åŒ–ç¡®å®šç›¸æœºå‚æ•°

$$\sum_{i}\left(\left(\vec{m}_{1,1: 3}\left(\begin{array}{c}\xi_{i} \\ \eta_{i} \\ \zeta_{i}\end{array}\right)+m_{1,4}-u_{i}\left(\vec{m}_{3,1: 3}\left(\begin{array}{c}\xi_{i} \\ \eta_{i} \\ \zeta_{i}\end{array}\right)+m_{3,4}\right)\right)^{2}\right.\left.+\left(\vec{m}_{2,1: 3}\left(\begin{array}{c}\xi_{i} \\ \eta_{i} \\ \zeta_{i}\end{array}\right)+m_{2,4}-v_{i}\left(\vec{m}_{3,1: 3}\left(\begin{array}{c}\xi_{i} \\ \eta_{i} \\ \zeta_{i}\end{array}\right)+m_{3,4}\right)\right)^{2}\right)$$

å½’é›¶åå¯¼æ•°ï¼š

$$\left(\begin{array}{ccc}\sum_{i} S_{i} & 0 & -\sum_{i} u_{i} S_{i} \\0 & \sum_{i} S_{i} & -\sum_{i} v_{i} S_{i} \\-\sum_{i} u_{i} S_{i} & -\sum_{i} v_{i} S_{i} & \sum_{i}\left(u_{i}^{2}+v_{i}^{2}\right) S_{i}\end{array}\right) \cdot\left(\begin{array}{l}\vec{m}_{1,1: 4}^{T} \\\vec{m}_{2,1: 4}^{T} \\\vec{m}_{3,1: 4}^{T}\end{array}\right)=\overrightarrow{0}$$  with  $$S_{i}=\left(\xi_{i}, \eta_{i}, \zeta_{i}, 1\right)^{T}\left(\xi_{i}, \eta_{i}, \zeta_{i}, 1\right)$$

è§£ï¼šå…³äºæœ€å°ç‰¹å¾å€¼çš„ç‰¹å¾å‘é‡ 

- 1 ä¸ªè‡ªç”±åº¦ï¼šè§£çš„é•¿åº¦

è§£çš„ç»“æ„ï¼š

$$M=A \cdot(R \mid \vec{t})=\left(\begin{array}{ll}\vec{m}_{1,1: 3} & m_{1,4} \\\vec{m}_{2,1: 3} & m_{2,4} \\\vec{m}_{3,1: 3} & m_{3,4}\end{array}\right)$$ with $$\vec{m}_{1,1: 3}=\alpha^{\prime} \vec{r}_{1,1: 3}-\beta^{\prime} \cot \theta \vec{r}_{2,1: 3}+u_{0} \vec{r}_{3,1: 3}$$ 
$$\begin{aligned}m_{1,4} &=\alpha^{\prime} t_{1}-\beta^{\prime} \cot \theta t_{2}+u_{0} t_{3} \\\vec{m}_{2,1: 3} &=\frac{\beta^{\prime}}{\sin \theta} \vec{r}_{2,1: 3}+v_{0} \vec{r}_{3,1: 3} \\m_{2,4} &=\frac{\beta^{\prime}}{\sin \theta} t_{2}+v_{0} t_{3} \\\vec{m}_{3,1: 3} &=\vec{r}_{3,1: 3} \\m_{3,4} &=t_{3}\end{aligned}$$

R æ˜¯ä¸€ä¸ªæ—‹è½¬çŸ©é˜µï¼š

$$\left\|\vec{r}_{1,1: 3}\right\|=1 \\  \| \vec{r}_{2,1: 3} \|=1 \\\| \vec{r}_{3,1: 3}\|=1\\\left\langle\vec{r}_{1,1: 3}, \vec{r}_{2,1: 3}\right\rangle=0 \left\langle\vec{r}_{2,1: 3,}, \vec{r}_{3,1: 3}\right\rangle=0 \left\langle\vec{r}_{3,1: 3,}, \vec{r}_{1,1: 3}\right\rangle=0$$

ç”±äº 
$$\vec{m}_{3,1: 3}=\vec{r}_{3,1: 3}$$ã€€
é€‰æ‹©è§£å†³æ–¹æ¡ˆã€€
$$\left|\vec{m}_{3,1: 3}\right|^{2}=1$$
ï¼ˆä¸¤ç§å¯èƒ½æ€§ï¼Œæ£€æŸ¥ã€€
$$\operatorname{det}(R)=+1ï¼‰$$

ç»™å®š Mï¼Œæˆ‘ä»¬å¦‚ä½•æ¨å¯¼å‡ºç›¸æœºå‚æ•° R, t, Î±', Î²', Î¸, u0, v0 ï¼Ÿ

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312173958.png" style="zoom:67%;" />

æ€»ç»“ï¼šTsai çš„æ–¹æ³• 

1. ç”¨æ ¡å‡†æ ‡è®°ï¼ˆä¸€èˆ¬ä½ç½®çš„æ ‡è®°ï¼‰åˆ›å»ºä¸€ä¸ªäººå·¥åœºæ™¯ 
2. æµ‹é‡æ ¡å‡†æ ‡è®°çš„ 3d ä¸–ç•Œä½ç½® 
3. åˆ¶ä½œå›¾ç‰‡ 
4. æµ‹é‡æ ¡å‡†æ ‡è®°çš„ 2d å›¾åƒä½ç½® 
5. è§£å†³ä¼˜åŒ–é—®é¢˜ ä¼°è®¡çŸ©é˜µ M 
6. å°† M åˆ†è§£ä¸º A, R, t

ç›¸æœºæ ¡å‡†ï¼šå¼  Camera Calibration: Zhang  

å‡è®¾å¹³é¢ä¸Šçš„ 3d-ç‚¹$$\zeta=0$$

è¿™äº›ç‚¹ç”±ç›¸æœºæ˜ å°„åˆ°
$$
\begin{aligned}
z \cdot\left(\begin{array}{l}
u \\
v \\
1
\end{array}\right) &=A \cdot\left(R \cdot\left(\begin{array}{l}
\xi \\
\eta \\
0
\end{array}\right)+\vec{t}\right) \\
&=\underbrace{A \cdot\left(\vec{r}_{1: 3,1}, \vec{r}_{1: 3,2}, \vec{t}\right)}_{=: H} \cdot\left(\begin{array}{l}
\xi \\
\eta \\
1
\end{array}\right)
\end{aligned}
$$
H ç§°ä¸ºå•åº”æ€§ H is called a homography  
$$
H=A \cdot\left(\vec{r}_{1: 3,1}, \vec{r}_{1: 3,2}, \vec{t}\right)
$$
å¦‚æœæˆ‘ä»¬çŸ¥é“å‡ ä¸ªå•åº”æ€§$H_1,H_2...H_n$ï¼Œæˆ‘ä»¬èƒ½æ¨å¯¼å‡ºæ¥$A$å—ï¼Ÿè®©æˆ‘ä»¬é¦–å…ˆè€ƒè™‘
$$
B=A^{-T} A^{-1}
$$
Aæ˜¯æ»¡ç§©çš„ï¼Œä¸Šä¸‰è§’çŸ©é˜µ 

â†’ $$A^{-1}$$ å­˜åœ¨å¹¶ä¸”ä¹Ÿæ˜¯ä¸Šä¸‰è§’çŸ©é˜µ 

â†’ Bæ˜¯å¯¹ç§°çš„ï¼Œæœ‰ 6 ä¸ªä¸åŒçš„æ¡ç›® 

â†’ $$A^{-1}$$ å¯ä»¥é€šè¿‡ Cholesky åˆ†è§£è®¡ç®— 

â†’ å¦‚æœæˆ‘ä»¬çŸ¥é“Bï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°æ¨å¯¼å‡º
$$
B=\left(\begin{array}{lll}
b_{1,1} & b_{1,2} & b_{1,3} \\
b_{1,2} & b_{2,2} & b_{2,3} \\
b_{1,3} & b_{2,3} & b_{3,3}
\end{array}\right)
$$

$$
H=A \cdot\left(\vec{r}_{1: 3,1}, \vec{r}_{1: 3,2}, \vec{t}\right)
$$

Ræ˜¯ä¸€ä¸ªæ—‹è½¬çŸ©é˜µï¼Œå› æ­¤

(1)
$$
\begin{aligned}
0=\left\langle\vec{r}_{1: 3,1}, \vec{r}_{1: 3,2}\right\rangle &=\left\langle A^{-1} \vec{h}_{1: 3,1}, A^{-1} \vec{h}_{1: 3,2}\right\rangle \\
&=\vec{h}_{1: 3,1}^{T} \cdot\left(A^{-T} A^{-1}\right) \cdot \vec{h}_{1: 3,2} \\
&=\vec{h}_{1: 3,1}^{T} \cdot B \cdot \vec{h}_{1: 3,2}
\end{aligned}
$$


(2)
$$
\begin{aligned}
\left\langle\vec{r}_{1: 3,1}, \vec{r}_{1: 3,1}\right\rangle=1=&\left\langle\vec{r}_{1: 3,2}, \vec{r}_{1: 3,2}\right\rangle \\
\left\langle A^{-1} \vec{h}_{1: 3,1}, A^{-1} \vec{h}_{1: 3,1}\right\rangle &\left\langle A^{-1} \vec{h}_{1: 3,2}, A^{-1} \vec{h}_{1: 3,2}\right\rangle \\
\vec{h}_{1: 3,1}^{T} \cdot B \cdot \vec{h}_{1: 3,1} & \vec{h}_{1: 3,2}^{T} \cdot B \cdot \vec{h}_{1: 3,2} \\
\Rightarrow 0=\vec{h}_{1: 3,1}^{T} \cdot B \cdot \vec{h}_{1: 3,1}-\vec{h}_{1: 3,2}^{T} \cdot B \cdot \vec{h}_{1: 3,2}
\end{aligned}
$$
å› æ­¤ï¼Œä»ä¸€ä¸ªå•åº”æ€§æˆ‘ä»¬å¾—åˆ°ä¸¤ä¸ªçº¦æŸï¼ˆ1ï¼‰,ï¼ˆ2ï¼‰

å¦‚æœæˆ‘ä»¬çŸ¥é“å‡ ä¸ªå•åº”æ€§ï¼Œæˆ‘ä»¬èƒ½æ¨å¯¼å‡ºæ¥Aå—ï¼Ÿ

- ä»æ¯ä¸ªå•åº”æ€§æˆ‘ä»¬å¾—åˆ°ä¸¤ä¸ªçº¦æŸ 
- 3 ä¸ªå•åº”æ€§äº§ç”Ÿæ€»å…± 6 ä¸ªçº¦æŸä»¥ä¼°è®¡ 6 ä¸ªå‚æ•° 
- 3 ä¸ªå•åº”æ€§äº§ç”Ÿä¸€ä¸ªè¶…å®šçš„çº¦æŸç³»ç»Ÿ 

â€‹	â†’ æœ€å°äºŒä¹˜æ³•æ‰¾åˆ°ä¸€ä¸ªä½¿æ®‹å·®æœ€å°åŒ–çš„çŸ©é˜µ

æ¦‚è¿°ï¼šå¼ çš„æ–¹æ³• 

1. ... 

2. ... 

3. ... 

4. ä¼°è®¡å•åº”æ€§ H 

5. æ±‚è§£ä¼˜åŒ–é—®é¢˜ä»¥ä¼°è®¡çŸ©é˜µ B 

6. å°† B åˆ†è§£ä¸º A, R, t 

7. ...

æˆ‘ä»¬å¦‚ä½•å¾—åˆ°å•åº”æ€§ï¼Ÿ

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312192013.png" style="zoom:67%;" />

1. å‡è®¾å¹³é¢ä¸Šç‚¹çš„ä¸€ç»„ç‚¹å¯¹åº”å…³ç³»

2. æ‰¾åˆ°å•åº”æ€§ä½¿å¾—

$$
z \cdot\left(u_{i}, v_{i}, 1\right)^{T} \approx H \cdot\left(\xi_{i}, \eta_{i}, 1\right)^{T}
$$

3. ä¸€ä¸ªå¯¹åº”äº§ç”Ÿä¸¤ä¸ªçº¦æŸ

$$
\begin{aligned}
&\vec{h}_{1,1: 3} \cdot\left(\xi_{i}, \eta_{i}, 1\right)^{T}-u_{i} \cdot \vec{h}_{3,1: 3} \cdot\left(\xi_{i}, \eta_{i}, 1\right)^{T} \approx 0 \\
&\vec{h}_{2,1: 3} \cdot\left(\xi_{i}, \eta_{i}, 1\right)^{T}-v_{i} \cdot \vec{h}_{3,1: 3} \cdot\left(\xi_{i}, \eta_{i}, 1\right)^{T} \approx 0
\end{aligned}
$$

4. æœ€å°äºŒä¹˜ä»¥æœ€å°åŒ–æ®‹å·®å¹¶æ‰¾åˆ°æœ€ä½³å•åº”æ€§H

æ¦‚è¿°ï¼šå¼ çš„æ–¹æ³• 

1. åœ¨å·²çŸ¥ä½ç½®åˆ›å»ºä¸€ä¸ªå¸¦æœ‰æ ¡å‡†æ ‡è®°çš„å¹³é¢ 
2.  åˆ¶ä½œå‡ å¼ å¹³é¢ä¸åŒä½ç½®å’Œæ–¹å‘çš„å›¾ç‰‡ 
3. æµ‹é‡æ ‡è®°çš„äºŒç»´å›¾åƒä½ç½® 
4. ä¼°è®¡æ¯å¼ å›¾ç‰‡çš„å•åº”æ€§ H 
5. æ±‚è§£ ä¼°è®¡çŸ©é˜µ B çš„ä¼˜åŒ–é—®é¢˜ 
6.  å°† B åˆ†è§£ä¸º A, R, t 
7. ä½¿ç”¨éçº¿æ€§æœ€å°äºŒä¹˜æ³•ä¼˜åŒ–æ‰€æœ‰å‚æ•°

æœ€åï¼Œæˆ‘ä»¬å¾—åˆ° 

- å†…åœ¨å‚æ•° A 
- æ¯ä¸ªå¹³é¢çš„æ—‹è½¬ R å’Œå¹³ç§» t

<center>Z. Zhang,
A flexible new technique for camera calibration.
IEEE Transactions on Pattern Analysis and Machine Intelligence, vol. 22, no. 11,
    pp. 1330-1334, 2000  </center>

æ ¡å‡†å¤±çœŸå‚æ•° k1ã€k2ï¼š 

â€“ éçº¿æ€§ä¼˜åŒ–è¿‡ç¨‹ 

â€“ å†…åœ¨ã€å¤–åœ¨å‚æ•°å’Œå¤±çœŸå‚æ•°çš„è¿­ä»£ä¼°è®¡

![](https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312192616.png)

æ— ç•¸å˜çš„æ•ˆæœå›¾

![](https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312192705.png)

ä¸å¤±çœŸï¼ˆéœ€è¦æ›´å¤æ‚çš„å¤±çœŸæ¨¡å‹ï¼‰ï¼š

![](https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312192752.png)

æ ¡å‡†æŒ‡ç¤ºå™¨ï¼š

- æ€§èƒ½ç‰¹ç‚¹
- æ¸…æ™°å¯è¯†åˆ« 
- æ˜“äºç¡®å®šä¸–ç•Œä½ç½® 
- æ˜“äºåœ¨å›¾åƒä¸­é«˜ç²¾åº¦å®šä½ 
- ä¸–ç•Œä¸Šä¸å…±é¢çš„ç‰¹å¾ï¼ˆå¯¹äº Tsai çš„æ–¹æ³•ï¼‰ 
- é¿å…é®æŒ¡ 
- é¿å…é˜´å½± 
- å°½å¯èƒ½å¤š

æ£‹ç›˜æ ‡è®° 

â€‹	ç¡®å®šå›¾åƒä½ç½®ï¼Œè®¡ç®—æ°´å¹³å’Œå‚ç›´è¾¹ç¼˜çš„äº¤ç‚¹

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312193003.png" style="zoom:67%;" />

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312193016.png" style="zoom: 50%;" />

**æ­£æ–¹å½¢å’ŒçŸ©å½¢** - ç¡®å®šå›¾åƒä½ç½®ï¼Œè®¡ç®—æ°´å¹³å’Œå‚ç›´è¾¹ç¼˜çš„äº¤ç‚¹

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312193103.png" style="zoom:67%;" />

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312193051.png" style="zoom:50%;" />

**åœ†** ç¡®å®šç»“æœæ¤­åœ†çš„ä¸­å¿ƒ - åœ†å¿ƒæ˜ å°„è¯¯å·®çš„è¿­ä»£æ ¡æ­£

# éæ ‡ç›¸æœº

è¿œå¿ƒé•œå¤´ Telecentric Lenses  

![](https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312193259.png)

ä¼˜ç‚¹ï¼šâ€“ æ”¾å¤§å€ç‡ä¸ç‰©è·æ— å…³ â€“ æ”¹å–„æ™¯æ·±

ç¼ºç‚¹ï¼šâ€“ å°å…‰åœˆï¼Œè®©å…‰çº¿å¾ˆå·® â€“ å¤§ã€é‡ä¸”æ˜‚è´µ

åº”ç”¨é¢†åŸŸï¼šæ˜¾å¾®é•œ

![](https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312193636.png)

æŠ˜åå°„ç›¸æœº = å¸¦é•œå­çš„ç›¸æœº 

å¹³é¢é•œ

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312193708.png" style="zoom:67%;" />

â€“ æ›²é¢é•œ

![](https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312193742.png)

## æŠ˜åå°„ç›¸æœº

**å•è§†ç‚¹** 

å¦‚æœæ‰€æœ‰ç‰©é•œå…‰çº¿éƒ½åœ¨ä¸€ä¸ªç‚¹ç›¸äº¤ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœé•œå­å¯ä»¥ç”¨é’ˆå­”ç›¸æœºä»£æ›¿ï¼‰ï¼Œåˆ™æŠ˜åå°„ç›¸æœºå…·æœ‰å•ä¸€è§†ç‚¹

![](https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312193851.png)

å•è§†ç‚¹ç›¸æœºè®¾ç½®ï¼š

![](https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312194016.png)

<img src="https://raw.githubusercontent.com/WenboLi-CN-DE/Picture/main/20220312194039.png" style="zoom:50%;" />
